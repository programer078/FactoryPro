<ion-content [fullscreen]="true">
  <div class="relative w-full h-[400px]">
    <app-img 
      imgPath="../../../assets/imgs/parcing[plan.jpg" 
      class="w-full h-full object-cover"
    />   
    <div class="absolute inset-0 z-10">
      <div class="relative w-full px-5 mx-0 sm:max-w-[1212px] sm:mx-auto sm:px-[60px]">
        <app-header class="w-full relative m-0"/>
      </div>
      <div class="relative w-screen left-1/2 -translate-x-1/2">
        <hr class="w-full h-[1px] bg-white/20 border-0 m-0">
      </div>
      <div class="relative w-full px-5 mx-0 sm:max-w-[1220px] sm:mx-auto sm:px-[76px] mt-12">
        <div class="flex items-center justify-start sm:justify-center text-white">
          <div class="w-full h-full">
            <p class="font-bold text-6xl">Contact us</p>
            <p class="mt-2 text-lg">
              Home 
              <span class="font-extrabold text-[var(--clr-orange)] bg-[var(--clr-orange)] inline-block w-2 h-2 rounded-full"></span>
              <span class="text-[var(--clr-orange)] ml-1">Contact Us</span>
            </p>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div class="relative bg-[var(--clr-gray1)] py-12 px-5 sm:px-12 lg:px-24 flex items-center">
    <div class="absolute inset-0 mobile:w-[1200px] mobile2:w-[1200px] mobile4:w-[1200px] tablet:w-[1200px] desktop:w-[1600px]">
      <app-img 
        imgPath="../../../assets/imgs/secondmain.png" 
        class="w-full h-full bg-no-repeat bg-bottom bg-contain"
      />
    </div>
    <div class="max-w-6xl mx-auto grid grid-cols-1 lg:grid-cols-2 gap-8 items-center sm:max-w-[1212px] sm:mx-auto sm:px-[60px]">
      <div class="max-w-6xl p-6">
        <div class="flex items-center gap-2">
            <ion-icon name="settings-outline" class="text-[var(--clr-orange)] text-xl"></ion-icon>
            <h2 class="text-xl font-bold text-[var(--clr-blue1)]">Contact Us</h2>
        </div>
        <h2 class="text-4xl font-bold text-[var(--clr-blue1)] mt-4">Get in touch <span class="font-black">with us</span></h2>
        <p class="text-[var(--clr-gray2)] mt-2">Reach out for any inquiries, support, or to discuss how we can <br>
          meet your industrial needs.</p>
        <div class="mt-4 flex items-center gap-5">
          <div class="bg-[var(--clr-orange)] h-[40px] w-[40px] text-center rounded-[3px] justify-center flex items-center">

            <ion-icon name="call-outline" class="text-white text-xl"></ion-icon>
          </div>

            <div>
                <p class="font-semibold">Contact:</p>
                <p class="text-[var(--clr-gray2)]">+92 3057654442</p>
            </div>
        </div>
        <div class="mt-4 flex items-center gap-5 ">
          <div class="bg-[var(--clr-orange)] h-[40px] w-[40px] text-center rounded-[3px] justify-center flex items-center">
            <ion-icon name="mail-outline" class="text-white text-xl"></ion-icon>
          </div>
            <div>
                <p class="font-semibold">Email:</p>
                <p class="text-[var(--clr-gray2)]">infoomainname.com</p>
            </div>
        </div>
        <div class="mt-4 flex items-center gap-5">
          <div class="bg-[var(--clr-orange)] h-[40px] w-[40px] text-center rounded-[3px] justify-center flex items-center">

            <ion-icon name="location-outline" class="text-white text-xl"></ion-icon>
          </div>
            <div>
                <p class="font-semibold">Our Address:</p>
                <p class="text-[var(--clr-gray2)]">23,main road,pine valley pakpttan</p>
            </div>
        </div>
      </div>
      <div class="bg-white p-6 rounded-lg shadow-md w-full sm:w-96 z-10">
        <h2 class="text-xl font-bold text-[var(--clr-blue1)]">Contact <span class="font-black">me</span></h2>
        <br>
        <div class="max-h-[500px] overflow-y-auto">
          <div *ngFor="let formObj of contactForms; let i = index" class="relative mb-8 border p-4 rounded-lg shadow-md">
              <button *ngIf="i > 0" type="button" (click)="removeForm(i)" 
              class="absolute top-2 right-2 text-red-500 -mt-1.5">
              <ion-icon name="trash" size="small"></ion-icon>
            </button>
            <form [formGroup]="formObj.form" (ngSubmit)="onSubmit(i)">
              <div class="flex flex-col sm:flex-row sm:gap-2 bg-white">
                <app-inputfield 
                  [control]="formObj.form.controls['formControlFirstName']" 
                  type="text" 
                  placeholder="Enter first name">
                </app-inputfield>
                <app-inputfield 
                  [control]="formObj.form.controls['formControlLastName']" 
                  type="text" 
                  placeholder="Enter last name">
                </app-inputfield>
              </div>
              <app-inputfield 
                [control]="formObj.form.controls['formControlEmail']" 
                type="email" 
                placeholder="Enter your e-mail">
              </app-inputfield>
              <app-inputfield 
                [control]="formObj.form.controls['formControlPhone']" 
                type="tel" 
                placeholder="Enter your phone no.">
              </app-inputfield>
              <app-inputfield 
                [control]="formObj.form.controls['formControlMessage']" 
                type="text" 
                placeholder="Write Message">
              </app-inputfield>
              <div *ngFor="let field of formObj.additionalFields; let j = index" class="flex items-center gap-2">
                <div class="flex w-full items-center border border-gray-300 rounded-lg p-2">
                  <app-inputfield 
                    [control]="formObj.form.controls[field.controlName]" 
                    type="text" 
                    [placeholder]="field.label"
                    class="flex-1">
                  </app-inputfield>
                  <button type="button" (click)="removeField(i, j)" class="ml-auto text-red-500 p-2">
                    <ion-icon name="trash" size="small"></ion-icon>
                  </button>
                </div>
              </div>
              <button 
                type="submit" 
                [disabled]="isFormInvalid(formObj.form)" 
                class="w-full mt-4 p-2 text-white rounded-md bg-[var(--clr-orange)] disabled:bg-gray-400">
                Submit Message
              </button>
              <div *ngIf="i === contactForms.length - 1">
                <button type="button" (click)="openModal(i)" class="w-full mt-2 p-2 text-white rounded-md bg-blue-500">
                  Add New Field
                </button>
                <button type="button" (click)="addNewForm()" class="w-full mt-4 p-2 text-white rounded-md bg-green-500">
                  Add Form
                </button>
              </div>
            </form>
          </div>
        </div>
        
        
        
        
        
        

@if (showModal ) {
  <div class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50">
    <div class="bg-white p-4 rounded-lg shadow-lg w-80">
      <h2 class="text-xl mb-4">Add New Field</h2>
      <input 
        type="text" 
        [value]="newFieldLabel" 
        (input)="onInputChange($event)"
        placeholder="Enter field label"
        class="w-full p-2 border rounded-md mb-4">
      <div class="flex justify-end gap-2">
        <button type="button" (click)="showModal = false" class="px-4 py-2 rounded-md border">
          Cancel
        </button>
        <button type="button" (click)="addNewField()" class="px-4 py-2 rounded-md bg-blue-500 text-white">
          Add
        </button>
      </div>
    </div>
  </div>
}


        
        
    </div>
    </div>
  </div>
  <div>
    <iframe src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3442.812261716443!2d73.3738647754697!3d30.356285003728743!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x393d59392b2efcc5%3A0x6ba98c7dbcf402f2!2sLearn2Earn%20Professional%20Institute%20of%20Computer%20Science!5e0!3m2!1sen!2s!4v1738135546598!5m2!1sen!2s" width="100%" height="500" style="border:0;" allowfullscreen="" loading="lazy" referrerpolicy="no-referrer-when-downgrade"></iframe>
  </div>
  <app-foter></app-foter>
</ion-content>
